Oracle Database: Startup e Shutdown (CDB)

- Ambiente
S.O: Oracle Linux 7
SGBD: Oracle 19c 
Banco: Single Instance
Versoes que se aplica: 12g e acima com multitenant


ALTER SESSION SET CONTAINER=pdb;
SHOW CON_NAME;
SHOW PDBS;

1 - Startup 

ALTER SESSION SET CONTAINER=pdb;

STARTUP;

STARTUP OPEN READ WRITE;
STARTUP OPEN READ WRITE RESTRICT;

STARTUP OPEN READ ONLY;
STARTUP OPEN READ ONLY RESTRICT;

---

ALTER PLUGGABLE DATABASE ALL OPEN;
ALTER PLUGGABLE DATABASE ALL OPEN READ WRITE;

ALTER PLUGGABLE DATABASE pdb1,pdb2,... OPEN;
ALTER PLUGGABLE DATABASE pdb1,pdb2,... OPEN READ WRITE;

ALTER PLUGGABLE DATABASE ALL OPEN READ ONLY;
ALTER PLUGGABLE DATABASE pdb1,pdb2,... OPEN READ ONLY;


2 - Shutdown

ALTER SESSION SET CONTAINER=pdb;

SHUTDOWN IMMEDIATE;
Obs: O PDB aparecera com o OPEN MODE como "MOUNTED"

---

ALTER PLUGGABLE DATABASE ALL CLOSE IMMEDIATE;

ALTER PLUGGABLE DATABASE pdb1,pdb2,... CLOSE IMMEDIATE;


3 - Salvando o estado do pdb 

ALTER PLUGGABLE DATABASE pdb1,pdb2,... SAVE STATE;
ALTER PLUGGABLE DATABASE ALL EXCEPT pdb SAVE STATE;
ALTER PLUGGABLE DATABASE ALL SAVE STATE;

ALTER PLUGGABLE DATABASE pdb1,pdb2,... DISCARD STATE;
ALTER PLUGGABLE DATABASE ALL EXCEPT pdb DISCARD STATE;
ALTER PLUGGABLE DATABASE ALL DISCARD STATE;